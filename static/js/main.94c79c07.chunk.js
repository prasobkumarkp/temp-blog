(this["webpackJsonptemp-blog"]=this["webpackJsonptemp-blog"]||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),u=n.n(c),s=n(19),a=n.n(s),i=n(5),o=n(2),j=n(12),l=n(6),b=function(){var e=Object(c.useState)({value:"",list:[]}),t=Object(l.a)(e,2),n=t[0],r=t[1];return{state:n,actions:function(e){var t=e.type,c=e.payload;switch(t){case"setUser":return r(Object(j.a)(Object(j.a)({},n),{},{user:c.user}));default:return n}}}},F=n(4),d=n.n(F),h=n(10),x=Object(c.createContext)(),p="https://jsonplaceholder.typicode.com",O=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/users")).then((function(e){return e.json()}));case 3:return r=e.sent,c=r.find((function(e){return e.email===t&&e.username===n})),e.abrupt("return",{IsSuccess:!!c,user:c});case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/users")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),m=function(e){var t=Object(c.useContext)(x).actions,n=Object(c.useState)(""),u=Object(l.a)(n,2),s=u[0],a=u[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),j=o[0],b=o[1],F=Object(c.useState)(""),p=Object(l.a)(F,2),f=p[0],m=p[1],v=Object(c.useState)(""),g=Object(l.a)(v,2),D=g[0],C=g[1],w=function(){var n=Object(h.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m(""),C(""),y(s)){n.next=3;break}return n.abrupt("return",m("invalid email"));case 3:return n.next=5,O(s,j);case 5:(r=n.sent)&&r.IsSuccess?(S(),t({type:"setUser",payload:{user:r.user}}),e.history.push("/home")):C("invalid login details");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(){return/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(String(s).toLowerCase())},S=function(){a(""),b("")};return Object(r.jsx)("section",{className:"login",children:Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)("label",{children:"Username"}),Object(r.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)},placeholder:"someone@somewhere.com",autoFocus:!0,required:!0}),Object(r.jsx)("p",{className:"error-message",children:f}),Object(r.jsx)("label",{children:"Password"}),Object(r.jsx)("input",{type:"password",value:j,onChange:function(e){return b(e.target.value)},placeholder:"what's your secret?",required:!0}),Object(r.jsx)("p",{className:"error-message",children:D}),Object(r.jsx)("div",{className:"button-container",children:Object(r.jsx)("button",{onClick:w,children:"Sign in"})})]})})},v=(n(28),function(e){var t=Object(c.useContext)(x).actions,n=Object(o.g)();return Object(r.jsx)("section",{className:"header",children:Object(r.jsxs)("nav",{children:[Object(r.jsx)("button",{onClick:function(){n.goBack()},children:"Back"}),Object(r.jsx)("button",{onClick:function(){return t({type:"setUser",payload:{user:null}}),Object(r.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})},children:"Logout"})]})})}),g=function(e){return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h4",{children:"Links"}),Object(r.jsxs)("ul",{className:"home",children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/users",children:"Users"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/blog",children:"Blog"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/blog/2",children:"Blog with id 2"})})]})]})},D=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],u=t[1],s=Object(c.useState)(null),a=Object(l.a)(s,2),i=a[0],o=a[1];Object(c.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"Users"}),Object(r.jsxs)("ul",{className:"user-list",children:[Object(r.jsx)("input",{className:"search-field",type:"text",onChange:function(e){return t=e.target.value,void o(t);var t},placeholder:"Search here..."}),n&&function(e){return i?e.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})):e}(n).map((function(e){return Object(r.jsx)("li",{children:e.name},e.id)}))]})]})},C=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/posts")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.h)().id,t=Object(c.useState)(null),n=Object(l.a)(t,2),u=n[0],s=n[1],a=Object(c.useState)(null),i=Object(l.a)(a,2),j=i[0],b=i[1],F=Object(o.g)();Object(c.useEffect)((function(){(function(){var t=Object(h.a)(d.a.mark((function t(){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:return n=t.sent,t.next=5,C();case 5:if(r=t.sent,c=x(r,n),!e){t.next=9;break}return t.abrupt("return",s(c.filter((function(t){return t.id===e.toString()}))));case 9:s(c);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var x=function(e,t){return e.map((function(e){return e.user=t.find((function(t){return t.id===e.userId})),e}))};return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"Blogs"}),Object(r.jsxs)("ul",{className:"user-posts",children:[Object(r.jsx)("input",{className:"search-field",type:"text",onChange:function(e){return t=e.target.value,void b(t);var t},placeholder:"Search here..."}),u&&function(e){return j?e.filter((function(e){return e.title.toLowerCase().includes(j.toLowerCase())})):e}(u).map((function(e){return Object(r.jsxs)("li",{onClick:function(t){!function(e){e&&F.push("/blog/".concat(e))}(e.id)},children:[Object(r.jsx)("div",{className:"blog-post",children:e.title}),Object(r.jsx)("div",{className:"user-name",children:e.user.username})]},e.id)}))]})]})},y=function(){return Object(r.jsxs)("div",{className:"error-404",children:[Object(r.jsx)("h1",{children:"404 Error page"}),Object(r.jsx)("p",{children:"Sorry this page doesn't exists"}),Object(r.jsx)(i.c,{to:"/",children:"Go Back"})]})};n(34);var S=function(){return Object(r.jsx)(i.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(v,{}),Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{exact:!0,path:"/home",component:g}),Object(r.jsx)(o.b,{exact:!0,path:"/users",component:D}),Object(r.jsx)(o.b,{exact:!0,path:["/blog","/blog/:id"],component:w}),Object(r.jsx)(o.b,{component:y})]})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,u=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),u(e),s(e)}))},N=n(21),E=function(e){var t=e.component,n=Object(N.a)(e,["component"]),u=Object(c.useContext)(x).state;return Object(r.jsx)(o.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return u.user?Object(r.jsx)(t,Object(j.a)({},e)):Object(r.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},A=function(){var e=b();return Object(r.jsx)(x.Provider,{value:e,children:Object(r.jsx)(i.a,{children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{exact:!0,path:["/","/login"],component:m}),Object(r.jsx)(E,{component:S})]})})})};a.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.94c79c07.chunk.js.map