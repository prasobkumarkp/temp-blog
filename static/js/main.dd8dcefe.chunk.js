(this["webpackJsonptemp-blog"]=this["webpackJsonptemp-blog"]||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),a=n(19),u=n.n(a),i=n(8),o=n(2),j=n(12),l=n(5),b=function(){var e=Object(r.useState)({value:"",list:[]}),t=Object(l.a)(e,2),n=t[0],c=t[1];return{state:n,actions:function(e){var t=e.type,r=e.payload;switch(t){case"setUser":return c(Object(j.a)(Object(j.a)({},n),{},{user:r.user}));default:return n}}}},h=n(4),d=n.n(h),O=n(10),p=Object(r.createContext)(),f="https://jsonplaceholder.typicode.com",x=function(){var e=Object(O.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/users")).then((function(e){return e.json()}));case 3:return c=e.sent,r=c.find((function(e){return e.email===t&&e.username===n})),e.abrupt("return",{IsSuccess:!!r,user:r});case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(O.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/users")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){var t=Object(r.useContext)(p).actions,n=Object(r.useState)(""),s=Object(l.a)(n,2),a=s[0],u=s[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),j=o[0],b=o[1],h=Object(r.useState)(""),f=Object(l.a)(h,2),m=f[0],v=f[1],g=Object(r.useState)(""),w=Object(l.a)(g,2),y=w[0],C=w[1],N=function(){var n=Object(O.a)(d.a.mark((function n(){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v(""),C(""),S(a)){n.next=3;break}return n.abrupt("return",v("invalid email"));case 3:return n.next=5,x(a,j);case 5:(c=n.sent)&&c.IsSuccess?(k(),t({type:"setUser",payload:{user:c.user}}),e.history.push("/home")):C("invalid login details");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())},k=function(){u(""),b("")};return Object(c.jsx)("section",{className:"login",children:Object(c.jsxs)("div",{className:"login-container",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",value:a,onChange:function(e){return u(e.target.value)},placeholder:"someone@somewhere.com",autoFocus:!0,required:!0}),Object(c.jsx)("p",{className:"error-message",children:m}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",value:j,onChange:function(e){return b(e.target.value)},placeholder:"what's your secret?",required:!0}),Object(c.jsx)("p",{className:"error-message",children:y}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)("button",{onClick:N,children:"Sign in"})})]})})},g=(n(28),function(e){var t=Object(r.useContext)(p).actions,n=Object(o.g)(),s=Object(r.useState)(""),a=Object(l.a)(s,2),u=a[0],i=a[1];n.listen((function(e){i("/home"!==e.pathname)}));return Object(c.jsx)("section",{className:"header",children:Object(c.jsxs)("nav",{children:[Object(c.jsx)("button",{onClick:function(){n.goBack()},disabled:!u,children:u?"Back":"O"}),Object(c.jsx)("button",{onClick:function(){return t({type:"setUser",payload:{user:null}}),Object(c.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})},children:"Logout"})]})})}),w=function(e){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{children:"Useful links"}),Object(c.jsxs)("ul",{className:"home",children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/users",children:"Users"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/blog",children:"Blog"})})]})]})},y=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(null),u=Object(l.a)(a,2),i=u[0],o=u[1];Object(r.useEffect)((function(){(function(){var e=Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h3",{children:"Users"}),Object(c.jsxs)("ul",{className:"user-list",children:[Object(c.jsx)("input",{className:"search-field",type:"text",onChange:function(e){return t=e.target.value,void o(t);var t},placeholder:"Search here..."}),n&&function(e){return i?e.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})):e}(n).map((function(e){return Object(c.jsx)("li",{children:e.name},e.id)}))]})]})},C=function(){var e=Object(O.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/posts")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.h)().id,t=Object(r.useState)(null),n=Object(l.a)(t,2),s=n[0],a=n[1],u=Object(r.useState)(null),i=Object(l.a)(u,2),j=i[0],b=i[1],h=Object(o.g)();Object(r.useEffect)((function(){(function(){var t=Object(O.a)(d.a.mark((function t(){var n,c,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return n=t.sent,t.next=5,C();case 5:c=t.sent,r=p(c,n),e?(s=r.filter((function(t){return t.id.toString()===e})),a(s)):a(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var p=function(e,t){return e.map((function(e){return e.user=t.find((function(t){return t.id===e.userId})),e}))};return e?Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("ul",{className:"user-posts",children:[Object(c.jsx)("li",{children:s[0].title}),Object(c.jsx)("li",{children:s[0].body}),Object(c.jsxs)("li",{children:[s[0].user.name," (",s[0].user.username,")"]})]})}):Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h3",{children:"Blogs"}),Object(c.jsxs)("ul",{className:"user-posts",children:[Object(c.jsx)("input",{className:"search-field",type:"text",onChange:function(e){return t=e.target.value,void b(t);var t},placeholder:"Search here..."}),s&&function(e){return j?e.filter((function(e){return e.title.toLowerCase().includes(j.toLowerCase())})):e}(s).map((function(e){return Object(c.jsxs)("li",{onClick:function(t){!function(e){e&&h.push("/blog/".concat(e))}(e.id)},children:[Object(c.jsx)("div",{className:"blog-post",children:e.title}),Object(c.jsx)("div",{className:"user-name",children:e.user.username})]},e.id)}))]})]})},S=function(){return Object(c.jsxs)("div",{className:"error-404",children:[Object(c.jsx)("h1",{children:"404 Error page"}),Object(c.jsx)("p",{children:"Sorry this page doesn't exists"}),Object(c.jsx)(i.c,{to:"/",children:"Go Back"})]})};n(34);var k=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(g,{}),Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/home",component:w}),Object(c.jsx)(o.b,{exact:!0,path:"/users",component:y}),Object(c.jsx)(o.b,{exact:!0,path:["/blog","/blog/:id"],component:N}),Object(c.jsx)(o.b,{component:S})]})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},B=n(21),U=function(e){var t=e.component,n=Object(B.a)(e,["component"]),s=Object(r.useContext)(p).state;return Object(c.jsx)(o.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return s.user?Object(c.jsx)(t,Object(j.a)({},e)):Object(c.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},F=function(){var e=b();return Object(c.jsx)(p.Provider,{value:e,children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:["/","/login"],component:v}),Object(c.jsx)(U,{component:k})]})})})};u.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),L()}},[[35,1,2]]]);
//# sourceMappingURL=main.dd8dcefe.chunk.js.map